schema: '2.0'
stages:
  import:
    cmd: python src/data/import_raw_data.py
    deps:
    - path: src/data/import_raw_data.py
      hash: md5
      md5: 5f8124e658eece72ad3d9bc033185734
      size: 1839
      isexec: true
    outs:
    - path: data/raw
      hash: md5
      md5: 41dee78430cbebe25be9986bbb599d4a.dir
      size: 333757
      nfiles: 1
  prepare:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw
      hash: md5
      md5: 41dee78430cbebe25be9986bbb599d4a.dir
      size: 333757
      nfiles: 1
    - path: src/data/make_dataset.py
      hash: md5
      md5: 806eb073efbc38194183400d04571524
      size: 1033
      isexec: true
    outs:
    - path: data/preprocessed
      hash: md5
      md5: 98c1f08a2d07a6439970a35ac967be92.dir
      size: 294499
      nfiles: 4
  normalise:
    cmd: python src/features/build_features.py
    deps:
    - path: data/preprocessed
      hash: md5
      md5: 98c1f08a2d07a6439970a35ac967be92.dir
      size: 294499
      nfiles: 4
    - path: src/features/build_features.py
      hash: md5
      md5: bb077730a0c2a0a313ddf0c5bb493060
      size: 1278
      isexec: true
    outs:
    - path: data/processed
      hash: md5
      md5: 7f88ffc683952af0845b50c89a26dd9e.dir
      size: 316921
      nfiles: 4
  gridsearch:
    cmd: python src/models/search_model.py
    deps:
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: c1b80eb7f083888b625dd0369cf381f8
      size: 227497
    - path: src/models/search_model.py
      hash: md5
      md5: 9e2acc8f9537c9d2b161d229bd1eb1ad
      size: 1076
      isexec: true
    outs:
    - path: models/best_model.pkl
      hash: md5
      md5: 3ec38ab9f025e59e040525429cf9fc08
      size: 26279201
  train:
    cmd: python src/models/train_model.py
    deps:
    - path: models/best_model.pkl
      hash: md5
      md5: 3ec38ab9f025e59e040525429cf9fc08
      size: 26279201
    - path: src/models/train_model.py
      hash: md5
      md5: 89df0441acf4a4ded889594959796b0e
      size: 576
      isexec: true
    outs:
    - path: models/trained_model.pkl
      hash: md5
      md5: b91721a3a095448dbb53d969a912eff7
      size: 26278209
  evaluer:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: models/trained_model.pkl
      hash: md5
      md5: b91721a3a095448dbb53d969a912eff7
      size: 26278209
    - path: src/models/evaluate_model.py
      hash: md5
      md5: a9826c8a2bb544ae01e81858fc09d887
      size: 1384
      isexec: true
    outs:
    - path: data/predictions
      hash: md5
      md5: f661fe51f8d33558647a56f87117675c.dir
      size: 33770
      nfiles: 2
    - path: metrics/scores.json
      hash: md5
      md5: c558c293dce0052307cf4ab4abac4172
      size: 95
  split:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: 617b56af2992376d5c3e91ad80823898
      size: 333757
    - path: src/data/make_dataset.py
      hash: md5
      md5: 806eb073efbc38194183400d04571524
      size: 1033
      isexec: true
    outs:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: b2af62a7e108b077aec89fa2622996db
      size: 52624
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 535251fa6c1a1d098cc7a36e0bd62f38
      size: 209468
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: a051d29629c8bbb4cfb7e85c7f0315da
      size: 6456
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
  normalize:
    cmd: python src/features/build_features.py
    deps:
    - path: data/preprocessed
      hash: md5
      md5: 98c1f08a2d07a6439970a35ac967be92.dir
      size: 294499
      nfiles: 4
    - path: src/features/build_features.py
      hash: md5
      md5: 95c84bf1dc3e492227d46905a9d32fd1
      size: 931
      isexec: true
    outs:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 5e079189af6bd091d651a89fafb1c290
      size: 57026
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: c1b80eb7f083888b625dd0369cf381f8
      size: 227497
  training:
    cmd: python src/models/train_model.py
    deps:
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: c1b80eb7f083888b625dd0369cf381f8
      size: 227497
    - path: models/best_model.pkl
      hash: md5
      md5: 3ec38ab9f025e59e040525429cf9fc08
      size: 26279201
    - path: src/models/train_model.py
      hash: md5
      md5: 0e25cf12d4b29f11e59952430962acfb
      size: 580
      isexec: true
    outs:
    - path: models/trained_model.pkl
      hash: md5
      md5: 4900d2ecbdc8cb5ca5be1ab0eadded65
      size: 26279217
  evaluate:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: a051d29629c8bbb4cfb7e85c7f0315da
      size: 6456
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 5e079189af6bd091d651a89fafb1c290
      size: 57026
    - path: models/trained_model.pkl
      hash: md5
      md5: 4900d2ecbdc8cb5ca5be1ab0eadded65
      size: 26279217
    - path: src/models/evaluate_model.py
      hash: md5
      md5: 20db6d8978e9663057b0f3dd797cf10c
      size: 1090
      isexec: true
    outs:
    - path: data/predictions/y_test_pred.csv
      hash: md5
      md5: 3660e3815f4f594be5557480a0f493be
      size: 6766
    - path: metrics/scores.json
      hash: md5
      md5: c35873477becbcf5305ea8f4fd16d88f
      size: 94
